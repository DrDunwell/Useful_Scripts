for i in *.splitout; do counts=$(ps -u user_name | grep -c 'blastp'); corecount=$(<./number_of_cores.txt); while [ $counts -ge $corecount ]; do sleep 5m; counts=$(ps -u user_name | grep -c 'blastp'); corecount=$(<./number_of_cores.txt); done; blastp -query $i -db ./name_of_data_base -evalue 0.00005 -num_threads 1 -outfmt 6 -out out_file_name & echo "I have just started running file" ${i}; done &